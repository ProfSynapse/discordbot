# =============================================================================
# Discord Bot Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# Lines starting with # are comments and can be left as-is.

# =============================================================================
# REQUIRED - Bot will not start without these
# =============================================================================

# Discord bot token from https://discord.com/developers/applications
DISCORD_TOKEN=your_discord_bot_token_here

# GPT Trainer API credentials from https://gpttrainer.com
GPT_TRAINER_TOKEN=your_gpt_trainer_api_token_here
CHATBOT_UUID=your_chatbot_uuid_here

# Google API key for Gemini (image generation + memory summaries)
# Get from https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=your_google_api_key_here

# =============================================================================
# OPTIONAL - Discord Channel IDs
# =============================================================================

# Channel for automated content posting (news articles + YouTube videos)
# Leave empty to disable content scheduling
# CONTENT_CHANNEL_ID=123456789012345678

# Forum channel for auto-posting generated images as threads
# Leave empty to disable gallery cross-posting
# IMAGE_GALLERY_CHANNEL_ID=123456789012345678

# Channel for error logging (bot errors posted here)
# Leave empty to disable error channel logging
# ERROR_CHANNEL_ID=123456789012345678

# =============================================================================
# OPTIONAL - External API Keys
# =============================================================================

# YouTube Data API key for video monitoring
# Get from https://console.cloud.google.com/apis/credentials
# Leave empty to disable YouTube content scraping
# YOUTUBE_API_KEY=your_youtube_api_key_here

# OpenAI API key (deprecated - Gemini is now used for image generation)
# OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================

# SQLite database path for session storage
# Use /data/sessions.db for Railway persistent volume
SESSION_DB_PATH=/data/sessions.db

# Auto-cleanup sessions older than N days (0 = never expire)
SESSION_MAX_AGE_DAYS=0

# Include other users' recent messages as context for responses
USE_CHANNEL_CONTEXT=true

# Number of recent channel messages to include as context
CHANNEL_CONTEXT_LIMIT=10

# =============================================================================
# CONVERSATIONAL MEMORY PIPELINE
# =============================================================================
# Tracks conversations, detects topic shifts, and uploads to GPT Trainer RAG
# for long-term memory retrieval.

# Enable/disable the memory pipeline (default: false)
MEMORY_ENABLED=false

# Comma-separated Discord channel IDs to track
# Default is Town Square channel
MEMORY_ENABLED_CHANNELS=1147552596228321412

# Directory for local JSONL conversation storage (for fine-tuning)
MEMORY_DATA_DIR=data/conversations

# SQLite database for upload queue persistence
MEMORY_DB_PATH=data/memory_uploads.db

# Seconds between background topic detection checks
MEMORY_CHECK_INTERVAL=45

# Maximum messages to buffer per channel before forcing a chunk
MEMORY_MAX_BUFFER_SIZE=100

# Seconds of inactivity that triggers automatic topic shift (default: 30 min)
MEMORY_TIME_GAP_THRESHOLD=1800

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Maximum Discord message length (Discord limit is 2000)
MAX_MESSAGE_LENGTH=2000

# Number of messages to keep in conversation history
MAX_HISTORY_MESSAGES=100

# Delay between API requests in seconds (rate limiting)
RATE_LIMIT_DELAY=1.0

# Path to conversation history JSON file
CONVERSATION_HISTORY_FILE=conversation_history.json
